// SPDX-License-Identifier: MIT
pragma solidity ^0.8.4;

/// @notice The address and bytecode of the canonical ERC1967Factory deployment.
/// @author Solady (https://github.com/vectorized/solady/blob/main/src/utils/ERC1967FactoryLib.sol)
/// @author jtriley-eth (https://github.com/jtriley-eth/minimum-viable-proxy)
library ERC1967FactoryConstants {
    /// @dev The canonical ERC1967Factory address for EVM chains.
    /// If the deployment is not on your EVM chain of choice,
    /// please feel free to deploy via the canonical
    /// ImmutableCreate2Factory with `IMMUTABLE_CREATE2_FACTORY_SALT`.
    address internal constant ADDRESS = 0x000000000000d6abb9B07A79a21FC22aD788aa5D;

    /// @dev The canonical ERC1967Factory bytecode for EVM chains.
    /// Useful for forge tests:
    /// `vm.etch(ADDRESS, BYTECODE)`.
    bytes internal constant BYTECODE =
        hex"6080604052600436106100b15760003560e01c8063545e7c611161006957806399a88ec41161004e57806399a88ec41461019d578063a97b90d5146101b0578063db4c545e146101c357600080fd5b8063545e7c61146101775780639623609d1461018a57600080fd5b80633729f9221161009a5780633729f922146101315780634314f120146101445780635414dff01461015757600080fd5b80631acfd02a146100b65780632abbef15146100d8575b600080fd5b3480156100c257600080fd5b506100d66100d13660046105fc565b6101e6565b005b3480156100e457600080fd5b506101076100f336600461062f565b30600c908152600091909152602090205490565b60405173ffffffffffffffffffffffffffffffffffffffff90911681526020015b60405180910390f35b61010761013f36600461064a565b610237565b6101076101523660046106cf565b61024e565b34801561016357600080fd5b50610107610172366004610730565b610267565b6101076101853660046105fc565b61029a565b6100d66101983660046106cf565b6102af565b6100d66101ab3660046105fc565b61035f565b6101076101be366004610749565b610370565b3480156101cf57600080fd5b506101d86103a9565b604051908152602001610128565b30600c52816000526020600c2033815414610209576382b429006000526004601cfd5b81905580827f7e644d79422f17c01e4894b5f4f588d331ebfa28653d42ae832dc59e38c9798f600080a35050565b60006102468484843685610370565b949350505050565b600061025e8585838087876103c2565b95945050505050565b6000806102726103a9565b905060ff600053806035523060601b6001528260155260556000209150600060355250919050565b60006102a88383368461024e565b9392505050565b30600c5283600052336020600c2054146102d1576382b429006000526004601cfd5b6040518381527f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc602082015281836040830137600080836040018334895af1610331573d610327576355299b496000526004601cfd5b3d6000803e3d6000fd5b5082847f5d611f318680d00598bb735d61bacf0c514c6b50e1e5ad30040a4df2b12791c7600080a350505050565b61036c82823660006102af565b5050565b60008360601c33148460601c151761039057632f6348366000526004601cfd5b61039f868686600187876103c2565b9695505050505050565b6000806103b461049c565b608460129091012092915050565b6000806103cd61049c565b90508480156103e757866084601284016000f592506103f3565b6084601283016000f092505b50816104075763301164256000526004601cfd5b8781527f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc602082015282846040830137600080846040018334865af161045a573d6103275763301164256000526004601cfd5b30600c5281600052866020600c20558688837fc95935a66d15e0da5e412aca0ad27ae891d20b2fb91cf3994b6a3bf2b8178082600080a4509695505050505050565b6040513060701c801561053e576190fd60768301527f20355560408036111560515736038060403d373d3d355af43d82803e6051573d60748301527f3735a920a3ca505d382bbc545af43d82803e6051573d90fd5b3d90f35b3d356060548301527f14605557363d3d37363d7f360894a13ba1a3210667c828492db98dca3e2076cc60348301523060148301526d607b3d8160093d39f33d3d3d337382525090565b6190fd60708301527f203555604080361115604b5736038060403d373d3d355af43d82803e604b573d606e8301527f3735a920a3ca505d382bbc545af43d82803e604b573d90fd5b3d90f35b3d3560604e8301527f14604f57363d3d37363d7f360894a13ba1a3210667c828492db98dca3e2076cc602e83015230600e8301526d60753d8160093d39f33d3d3d336d82525090565b803573ffffffffffffffffffffffffffffffffffffffff811681146105f757600080fd5b919050565b6000806040838503121561060f57600080fd5b610618836105d3565b9150610626602084016105d3565b90509250929050565b60006020828403121561064157600080fd5b6102a8826105d3565b60008060006060848603121561065f57600080fd5b610668846105d3565b9250610676602085016105d3565b9150604084013590509250925092565b60008083601f84011261069857600080fd5b50813567ffffffffffffffff8111156106b057600080fd5b6020830191508360208285010111156106c857600080fd5b9250929050565b600080600080606085870312156106e557600080fd5b6106ee856105d3565b93506106fc602086016105d3565b9250604085013567ffffffffffffffff81111561071857600080fd5b61072487828801610686565b95989497509550505050565b60006020828403121561074257600080fd5b5035919050565b60008060008060006080868803121561076157600080fd5b61076a866105d3565b9450610778602087016105d3565b935060408601359250606086013567ffffffffffffffff81111561079b57600080fd5b6107a788828901610686565b96999598509396509294939250505056fea2646970667358221220206a5547a3ff3cc25ebc17c00dc45b26887ef4281f95034947d2f9200dfc69f364736f6c63430008130033";

    /// @dev The initcode used to deploy the canonical ERC1967Factory.
    bytes internal constant INITCODE = abi.encodePacked(
        hex"608060405234801561001057600080fd5b506107ee806100206000396000f3fe", BYTECODE
    );

    /// @dev For deterministic deployment at the canonical ImmutableCreate2Factory:
    /// 0x0000000000ffe8b47b3e2130213b802212439497
    bytes32 internal constant IMMUTABLE_CREATE2_FACTORY_SALT =
        0x00000000000000000000000000000000000000006c85d242d2effd0387ab1fc7;
}
